cmake_minimum_required(VERSION 3.0)

project(MCNP2CAD)
SET ( MCNP2CAD_VERSION_MAJOR 1 )
SET ( MCNP2CAD_VERSION_MINOR 0 )

SET(CMAKE_MODULE_PATH "${CMAKE_SOURCE_DIR}/cmake")
include(${CMAKE_MODULE_PATH}/iGeom-Defs.cmake)
include(${CMAKE_MODULE_PATH}/FindSphinx.cmake)
add_subdirectory (docs)

SET(CPP_COMPILE_FLAGS "-g -std=c++11 -Wall -Wextra -DUSING_CGMA -DHAVE_IGEOM_CONE ${IGEOM_CPPFLAGS} -DSPHINX_HTML=ON")
SET(INCLUDED_LIBRARIES "${IGEOM_LIBS} -larmadillo")
SET( CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} ${CPP_COMPILE_FLAGS}" )

file(GLOB SOURCES "src/*.cpp")
file(GLOB HEADERS "src/*.hpp")

LINK_DIRECTORIES(${IGEOM_CXX_LDFLAGS})
LINK_DIRECTORIES(${IGEOM_LDFLAGS})
add_executable(mcnp2cad ${SOURCES} ${HEADERS})
TARGET_LINK_LIBRARIES(mcnp2cad ${INCLUDED_LIBRARIES})
